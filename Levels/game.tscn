[gd_scene load_steps=18 format=3 uid="uid://cquahwesqdl37"]

[ext_resource type="PackedScene" uid="uid://ci3153isbxxtg" path="res://Environment/Goal/goal.tscn" id="1_nuy61"]
[ext_resource type="Texture2D" uid="uid://bgpachfe10kpg" path="res://Environment/Background/planks.png" id="1_wirce"]
[ext_resource type="PackedScene" uid="uid://bmk6xsp5q3jh7" path="res://Environment/Items/ToiletPaper.tscn" id="2_h4px5"]
[ext_resource type="Texture2D" uid="uid://dbese6072xpsw" path="res://Environment/Box.png" id="3_trlrp"]
[ext_resource type="Script" path="res://Levels/Spawner.gd" id="3_x0mre"]
[ext_resource type="PackedScene" uid="uid://kerriafsmoge" path="res://Environment/Items/Pencil.tscn" id="4_dmoix"]
[ext_resource type="PackedScene" uid="uid://qcfhtceusiqq" path="res://Environment/Movers/Treadmill/rigid_treadmill.tscn" id="5_8728y"]
[ext_resource type="Script" path="res://Environment/Converters/Converter.gd" id="6_h1bgd"]
[ext_resource type="Texture2D" uid="uid://brhbmfx2aamlq" path="res://Environment/Converters/puppycage.png" id="6_v7fpj"]
[ext_resource type="Script" path="res://Levels/ConverterPickup.gd" id="7_o25q6"]
[ext_resource type="Script" path="res://Environment/Items/ToiletPaper.gd" id="7_wed0a"]
[ext_resource type="PackedScene" uid="uid://b15dlhqm4glp5" path="res://Environment/Items/drag_component.tscn" id="8_l3cdi"]
[ext_resource type="Script" path="res://Environment/Items/Pencil.gd" id="10_3qa5l"]
[ext_resource type="Script" path="res://Levels/ConverterSpawn.gd" id="10_kb8un"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ubosm"]
size = Vector2(127, 127)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sbvx3"]
size = Vector2(127, 127)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rt0jo"]
size = Vector2(123, 127)

[node name="Game" type="Control"]
layout_mode = 3
anchors_preset = 0

[node name="Planks" type="Sprite2D" parent="."]
position = Vector2(960, 540)
texture = ExtResource("1_wirce")

[node name="ItemSpawner" type="Node2D" parent="."]
position = Vector2(401, 96)
script = ExtResource("3_x0mre")
RESOURCE_TO_SPAWN = ExtResource("2_h4px5")
SPAWN_INSTANTLY = true
SPAWN_INTERVAL = 2.0
MAX_TO_SPAWN = 10

[node name="Timer" type="Timer" parent="ItemSpawner"]
autostart = true

[node name="ItemSpawner2" type="Node2D" parent="."]
position = Vector2(758, 102)
script = ExtResource("3_x0mre")
RESOURCE_TO_SPAWN = ExtResource("4_dmoix")
SPAWN_INSTANTLY = true
SPAWN_INTERVAL = 2.0
MAX_TO_SPAWN = 10

[node name="Timer" type="Timer" parent="ItemSpawner2"]
autostart = true

[node name="Environment" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Environment"]
position = Vector2(-416, 1112)
scale = Vector2(27.28, 1)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/StaticBody2D"]
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_ubosm")

[node name="Sprite2D" type="Sprite2D" parent="Environment/StaticBody2D"]
texture = ExtResource("3_trlrp")

[node name="StaticBody2D4" type="StaticBody2D" parent="Environment"]
position = Vector2(1102, -44)
scale = Vector2(22.32, 1)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/StaticBody2D4"]
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_ubosm")

[node name="Sprite2D" type="Sprite2D" parent="Environment/StaticBody2D4"]
texture = ExtResource("3_trlrp")

[node name="StaticBody2D2" type="StaticBody2D" parent="Environment"]
position = Vector2(1358, 330)
scale = Vector2(0.919996, 13.96)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/StaticBody2D2"]
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_sbvx3")

[node name="Sprite2D" type="Sprite2D" parent="Environment/StaticBody2D2"]
texture = ExtResource("3_trlrp")

[node name="StaticBody2D3" type="StaticBody2D" parent="Environment"]
position = Vector2(-25, 508)
scale = Vector2(0.919996, 13.96)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/StaticBody2D3"]
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_sbvx3")

[node name="Sprite2D" type="Sprite2D" parent="Environment/StaticBody2D3"]
texture = ExtResource("3_trlrp")

[node name="RigidTreadmill" parent="." instance=ExtResource("5_8728y")]
position = Vector2(408, 298)
can_sleep = false
lock_rotation = true
freeze_mode = 1
continuous_cd = 1
max_contacts_reported = 50
contact_monitor = true
STATIC_FORCE = Vector2(5000, 0)

[node name="ColorRect" type="ColorRect" parent="."]
layout_mode = 0
offset_left = 1300.0
offset_top = -227.0
offset_right = 2192.0
offset_bottom = 1207.0
color = Color(0, 0.541176, 0.352941, 1)

[node name="Converter" type="RigidBody2D" parent="."]
position = Vector2(680, 572)
lock_rotation = true
freeze = true
script = ExtResource("6_h1bgd")

[node name="PickupLeft" type="Area2D" parent="Converter"]
script = ExtResource("7_o25q6")
accepted_items = Array[Script]([ExtResource("7_wed0a")])
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Converter/PickupLeft"]
polygon = PackedVector2Array(-70, -59, -46, -2, -71, 60)

[node name="PickupRight" type="Area2D" parent="Converter"]
script = ExtResource("7_o25q6")
accepted_items = Array[Script]([ExtResource("10_3qa5l")])
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Converter/PickupRight"]
polygon = PackedVector2Array(-54, -73, -3, -42, 59, -71)

[node name="Spawner" type="Node2D" parent="Converter"]
position = Vector2(-680, -572)
script = ExtResource("10_kb8un")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Converter"]
position = Vector2(-3.5, -3.5)
shape = SubResource("RectangleShape2D_rt0jo")

[node name="Sprite2D" type="Sprite2D" parent="Converter"]
texture = ExtResource("6_v7fpj")

[node name="DragComponent" parent="Converter" instance=ExtResource("8_l3cdi")]

[node name="GoalArea" parent="." instance=ExtResource("1_nuy61")]
position = Vector2(1238, 987)

[connection signal="timeout" from="ItemSpawner/Timer" to="ItemSpawner" method="_on_timer_timeout"]
[connection signal="timeout" from="ItemSpawner2/Timer" to="ItemSpawner2" method="_on_timer_timeout"]
